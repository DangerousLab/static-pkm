const e={activeInstance:null,activeNode:null,baseSidebarWidth:240,hoverSidebarWidth:240,hoverNeeded:!1,searchIndex:[],selectedResultIndex:-1,moduleDisplayNames:{},preloadedModules:new Set,navigationTree:null,currentFolder:null,loadedScripts:new Set,moduleFactories:new Map,moduleReadyCallbacks:new Map,folderWidthCache:new Map},t={getTheme:()=>document.documentElement.getAttribute("data-theme")||"dark",subscribe:e=>(document.addEventListener("themechange",e),()=>document.removeEventListener("themechange",e))},n={htmlEl:document.documentElement,sidebar:null,sidebarToggle:null,sidebarNav:null,sidebarBreadcrumb:null,card:null,themeToggleBtn:null,themeIcon:null,searchInput:null,searchClear:null,searchResults:null,mainContent:null};function a(){n.sidebar=document.getElementById("sidebar"),n.sidebarToggle=document.getElementById("sidebarToggle"),n.sidebarNav=document.getElementById("sidebarNav"),n.sidebarBreadcrumb=document.getElementById("sidebarBreadcrumb"),n.card=document.getElementById("contentCard"),n.themeToggleBtn=document.getElementById("themeToggle"),n.themeIcon=document.getElementById("themeIcon"),n.searchInput=document.getElementById("searchInput"),n.searchClear=document.getElementById("searchClear"),n.searchResults=document.getElementById("searchResults"),n.mainContent=document.querySelector(".main-content")}function r(e,t){if(e.path===t)return e;if(!e.children)return null;for(const n of e.children){const e=r(n,t);if(e)return e}return null}function s(e,t){if(!e)return null;if(("module"===e.type||"page"===e.type||"document"===e.type)&&e.id===t)return e;if(!e.children)return null;for(const n of e.children){const e=s(n,t);if(e)return e}return null}function o(){return window.innerWidth>=841}function d(){return window.innerWidth>=841&&window.innerWidth<=1470}function i(e){return"./"+e}function l(e){return"create"+e.charAt(0).toUpperCase()+e.slice(1)}function c(t){return new Promise(n=>{"function"!=typeof window[t]?(e.moduleReadyCallbacks.has(t)||e.moduleReadyCallbacks.set(t,[]),e.moduleReadyCallbacks.get(t).push(n)):n(window[t])})}function u(t){const n=e.moduleReadyCallbacks.get(t);if(n){const a=window[t];n.forEach(e=>e(a)),e.moduleReadyCallbacks.delete(t)}}function m(e){switch(e){case"module":return'<i class="fa-solid fa-gear"></i>';case"page":return'<i class="fa-regular fa-file"></i>';case"document":return'<i class="fa-regular fa-file-lines"></i>';case"folder":return'<i class="fa-regular fa-folder"></i>';case"back":return'<i class="fa-solid fa-caret-left"></i>';default:return'<i class="fa-solid fa-circle"></i>'}}const h={"logo-dark":null,"logo-light":null,"banner-dark":null,"banner-light":null};let p=!1;function f(e){const t=document.getElementById("theme-color-meta");t&&t.setAttribute("content","dark"===e?"#1f1f1f":"#f3f4f6")}function g(e,t,n){const a=h[t];if(a&&a.complete&&a.naturalWidth>0){if(e.src===a.src)return e;const t=a.cloneNode(!1);return Array.from(e.attributes).forEach(e=>{"src"!==e.name&&t.setAttribute(e.name,e.value)}),t.className=e.className,t.style.pointerEvents="none",t.style.userSelect="none",e.parentNode.replaceChild(t,e),t}return console.warn(`[Theme] Cache miss for ${t}, using fallback (HTTP request)`),e.src=n,e}function y(e){e&&e.addEventListener("animationend",function t(){e.style.willChange="auto",e.removeEventListener("animationend",t)},{once:!0})}function b(){const t="dark"===(n.htmlEl.getAttribute("data-theme")||"dark")?"light":"dark";n.htmlEl.setAttribute("data-theme",t),n.themeIcon.textContent="dark"===t?"☾":"☼";const a=document.getElementById("landscapeThemeIcon");a&&(a.textContent="dark"===t?"☾":"☼"),f(t),function(e){if(p)return;p=!0;let t=document.getElementById("headerLogo"),n=document.getElementById("headerBanner");const a=document.querySelector(".header-tagline");let r=document.getElementById("landscapeLogo");if(t&&n){t.classList.remove("animate"),n.classList.remove("animate"),a&&a.classList.remove("animate"),t.offsetWidth,n.offsetWidth,a&&a.offsetWidth,t.style.animation="none",n.style.animation="none",a&&(a.style.animation="none");const r="dark"===e?"banner-dark":"banner-light",s="dark"===e?"./assets/banner-dark.png":"./assets/banner-light.png";t=g(t,"dark"===e?"logo-dark":"logo-light","dark"===e?"./assets/logo-dark.png":"./assets/logo-light.png"),n=g(n,r,s),requestAnimationFrame(()=>{t.style.animation="",n.style.animation="",a&&(a.style.animation=""),requestAnimationFrame(()=>{t.classList.add("animate"),n.classList.add("animate"),a&&a.classList.add("animate"),y(t),y(n),a&&y(a),setTimeout(()=>{p=!1},50)})})}r&&(r.classList.remove("animate"),r.offsetWidth,r.style.animation="none",r=g(r,"dark"===e?"logo-dark":"logo-light","dark"===e?"./assets/logo-dark.png":"./assets/logo-light.png"),requestAnimationFrame(()=>{r.style.animation="",requestAnimationFrame(()=>{r.classList.add("animate"),y(r)})}))}(t);const r=new CustomEvent("themechange",{detail:{theme:t}});document.dispatchEvent(r),e.activeInstance&&"function"==typeof e.activeInstance.onThemeChange&&setTimeout(()=>e.activeInstance.onThemeChange(t),50)}async function v(){await function(){const e=[{key:"logo-dark",src:"./assets/logo-dark.png"},{key:"logo-light",src:"./assets/logo-light.png"},{key:"banner-dark",src:"./assets/banner-dark.png"},{key:"banner-light",src:"./assets/banner-light.png"}].map(({key:e,src:t})=>new Promise((n,a)=>{const r=new Image;r.onload=()=>{h[e]=r,n()},r.onerror=()=>{console.warn(`[Theme] Failed to preload ${e}`),h[e]=r,n()},r.src=t}));return Promise.all(e).then(()=>{})}(),n.themeToggleBtn.addEventListener("click",b);const e=document.getElementById("landscapeThemeToggle");e&&e.addEventListener("click",b);const t=n.htmlEl.getAttribute("data-theme")||"dark";n.themeIcon.textContent="dark"===t?"☾":"☼";const a=document.getElementById("landscapeThemeIcon");a&&(a.textContent="dark"===t?"☾":"☼"),f(t)}let w=!1;function E(){return window.matchMedia("(max-height: 600px) and (orientation: landscape)").matches}function L(){const t=!("true"===n.sidebar.getAttribute("data-open"));if(E()){n.sidebar.setAttribute("data-open",String(t)),n.sidebarToggle.setAttribute("data-open",String(t));const e=document.getElementById("landscapeToggle");return void(e&&e.setAttribute("data-open",String(t)))}if(o())if(t){n.sidebar.setAttribute("data-open","true"),n.sidebarToggle.setAttribute("data-open","true");const t=document.getElementById("landscapeToggle");t&&t.setAttribute("data-open","true"),n.sidebar.style.width=e.baseSidebarWidth+"px"}else{const e=n.sidebar.getBoundingClientRect().width;n.sidebar.style.width=e+"px",n.sidebar.setAttribute("data-open","false"),n.sidebarToggle.setAttribute("data-open","false");const t=document.getElementById("landscapeToggle");t&&t.setAttribute("data-open","false"),w=!1,setTimeout(()=>{"true"!==n.sidebar.getAttribute("data-open")&&(n.sidebar.style.width="")},250)}else{n.sidebar.setAttribute("data-open",String(t)),n.sidebarToggle.setAttribute("data-open",String(t));const e=document.getElementById("landscapeToggle");e&&e.setAttribute("data-open",String(t))}}function I(){n.sidebarNav.querySelectorAll(".nav-item").forEach(e=>e.classList.remove("active"))}function C(){E()||o()&&"true"===n.sidebar.getAttribute("data-open")&&(w=!0,e.hoverNeeded?n.sidebar.style.width=e.hoverSidebarWidth+"px":n.sidebar.style.width=e.baseSidebarWidth+"px")}function k(t){if(E())return;if(!o())return;if("true"!==n.sidebar.getAttribute("data-open"))return;const a=t.relatedTarget;a&&n.sidebar.contains(a)||(w=!1,n.sidebar.style.width=e.baseSidebarWidth+"px")}function x(t){if(e.moduleFactories.has(t.id))return Promise.resolve(e.moduleFactories.get(t.id));const n=i(t.file),a=l(t.id);return(r=n,new Promise((t,n)=>{if(e.loadedScripts.has(r))return void t();if(document.querySelector('script[data-module-src="'+r+'"]'))return e.loadedScripts.add(r),void t();const a=document.createElement("script");a.src=r,a.defer=!0,a.dataset.moduleSrc=r,a.onload=()=>{e.loadedScripts.add(r),t()},a.onerror=()=>{console.error("Failed to load script:",r),n(new Error("Failed to load script: "+r))},document.head.appendChild(a)})).then(()=>c(a).then(n=>{if("function"!=typeof n)throw new Error("Factory "+a+" is not a function for module "+t.id);return e.moduleFactories.set(t.id,n),n}));var r}function T(e,a){x(e).then(e=>{const r=document.createElement("div");r.className="content-root",n.card.appendChild(r);let s=null;try{s=e({root:r,themeController:t})||{}}catch(e){return console.error("[ContentLoader] Module instantiation failed:",e),n.card.innerHTML="\n\nUnable to load module.",n.card.classList.remove("preload"),n.card.classList.add("loaded"),void a(null)}requestAnimationFrame(()=>{var e;e=r,window.MathJax&&window.MathJax.typesetPromise&&window.MathJax.typesetPromise([e]).catch(function(e){console.error("MathJax typeset failed",e)}),n.card.classList.remove("preload"),n.card.classList.add("loaded")}),a(s)}).catch(e=>{console.error("[ContentLoader] Module loading failed:",e),n.card.innerHTML="\n\nUnable to load module.",n.card.classList.remove("preload"),n.card.classList.add("loaded"),a(null)})}function A(t){if(!t)return;!function(){if(e.activeInstance&&"function"==typeof e.activeInstance.destroy)try{e.activeInstance.destroy()}catch(e){}e.activeInstance=null}(),n.card.classList.remove("loaded"),n.card.classList.add("preload"),n.card.innerHTML="";const a=t.type;"module"===a?T(t,n=>{e.activeInstance=n||{},e.activeNode=t}):"page"===a?function(e,t){const a=i(e.file);fetch(a).then(e=>{if(!e.ok)throw new Error("Failed to load page: "+a);return e.text()}).then(e=>{n.card.innerHTML=e,n.card.classList.remove("preload"),n.card.classList.add("loaded"),t({})}).catch(e=>{console.error(e),n.card.innerHTML="\n\nUnable to load page.",n.card.classList.remove("preload"),n.card.classList.add("loaded"),t(null)})}(t,n=>{e.activeInstance=n||{},e.activeNode=t}):"document"===a?function(e,t){const a=i(e.file);fetch(a).then(e=>{if(!e.ok)throw new Error("Failed to load document: "+a);return e.text()}).then(e=>{const a=document.createElement("div");a.className="document-root";const r=document.createElement("pre");r.textContent=e,a.appendChild(r),n.card.appendChild(a),n.card.classList.remove("preload"),n.card.classList.add("loaded"),t({})}).catch(e=>{console.error(e),n.card.innerHTML="\n\nUnable to load document.",n.card.classList.remove("preload"),n.card.classList.add("loaded"),t(null)})}(t,n=>{e.activeInstance=n||{},e.activeNode=t}):(n.card.classList.remove("preload"),n.card.classList.add("loaded"),e.activeInstance={},e.activeNode=t)}function S(t,n=[],a=null){const r=[];if(!t)return r;const s=n.length>0?n.join(" > "):"";if("folder"===t.type&&t.name&&r.push({type:"folder",name:t.name,path:t.path,displayPath:s,searchText:t.name.toLowerCase(),node:t,parentNode:a}),"module"===t.type||"page"===t.type||"document"===t.type){const n=e.moduleDisplayNames[t.id]||t.title||t.id||"",o=(t.tags||[]).join(" ").toLowerCase();r.push({type:t.type,id:t.id,title:n,path:t.path,displayPath:s,searchText:(n+" "+o).toLowerCase(),node:t,parentNode:a})}if(t.children&&t.children.length>0){const e=t.name?[...n,t.name]:n;t.children.forEach(n=>{r.push(...S(n,e,t))})}return r}function M(){e.navigationTree&&(e.searchIndex=S(e.navigationTree))}function R(t){if(!t||t.trim().length<2)return[];const n=t.trim(),a=[];return e.searchIndex.forEach(e=>{const t=function(e,t){const n=t.toLowerCase(),a=e.toLowerCase();if(a===n)return 1e3;if(a.startsWith(n))return 500;const r=a.split(/\s+/);for(const e of r){if(e.startsWith(n))return 300;if(e.includes(n))return 150}return a.includes(n)?100:0}(e.searchText,n);t>0&&a.push({...e,score:t})}),a.sort((e,t)=>{if(t.score!==e.score)return t.score-e.score;const n=e.title||e.name||"",a=t.title||t.name||"";return n.localeCompare(a)}),a.slice(0,15)}function N(e){if(e&&e.node){if("folder"===e.type)H(e.node);else{let t=e.parentNode;t&&"folder"===t.type?(H(t),requestAnimationFrame(()=>{I(),A(e.node),setTimeout(()=>{const t=n.sidebarNav.querySelector('.nav-item[data-type="'+e.node.type+'"][data-id="'+e.node.id+'"]');t?t.classList.add("active"):console.warn("[Search] Could not find nav item for",e.node.id)},50)})):console.error("[Search] Could not find valid parent folder")}n.searchInput.value="",n.searchClear.style.display="none",n.searchResults.style.display="none",n.searchResults.innerHTML="",o()||setTimeout(()=>L(),300)}else console.error("[Search] Invalid item or node")}function B(t){const a=n.searchResults.querySelectorAll(".search-result-item");0!==a.length&&(e.selectedResultIndex>=0&&e.selectedResultIndex<a.length&&a[e.selectedResultIndex].classList.remove("selected"),"down"===t?e.selectedResultIndex=(e.selectedResultIndex+1)%a.length:"up"===t&&(e.selectedResultIndex=e.selectedResultIndex<=0?a.length-1:e.selectedResultIndex-1),e.selectedResultIndex>=0&&e.selectedResultIndex<a.length&&(a[e.selectedResultIndex].classList.add("selected"),a[e.selectedResultIndex].scrollIntoView({block:"nearest"})))}function F(){let t=null;n.searchInput.addEventListener("input",a=>{const r=a.target.value;if(n.searchClear.style.display=r.length>0?"flex":"none",clearTimeout(t),0===r.trim().length)return n.searchResults.style.display="none",void(n.searchResults.innerHTML="");t=setTimeout(()=>{!function(t,a){if(e.selectedResultIndex=-1,0===t.length)return n.searchResults.innerHTML='<div class="search-no-results">No results found</div>',void(n.searchResults.style.display="block");const r=t.map((e,t)=>{const n=function(e,t){if(!t||!e)return e;const n=e.toLowerCase(),a=t.toLowerCase(),r=n.indexOf(a);return-1===r?e:e.substring(0,r)+'<span class="search-match">'+e.substring(r,r+t.length)+"</span>"+e.substring(r+t.length)}(e.title||e.name||"",a);return`\n      <div class="search-result-item" data-index="${t}">\n        <div class="search-result-title">\n          <span class="search-result-icon">${m(e.type)}</span>\n          <span>${n}</span>\n        </div>\n        ${e.displayPath?`<div class="search-result-path">${e.displayPath}</div>`:""}\n      </div>\n    `}).join("");n.searchResults.innerHTML=r,n.searchResults.style.display="block",n.searchResults.querySelectorAll(".search-result-item").forEach((e,n)=>{e.addEventListener("click",()=>{N(t[n])})})}(R(r),r)},200)}),n.searchInput.addEventListener("keydown",t=>{const a="block"===n.searchResults.style.display;if("Escape"===t.key)n.searchInput.value="",n.searchClear.style.display="none",n.searchResults.style.display="none",n.searchResults.innerHTML="",n.searchInput.blur();else if("ArrowDown"===t.key&&a)t.preventDefault(),B("down");else if("ArrowUp"===t.key&&a)t.preventDefault(),B("up");else if("Enter"===t.key&&a){t.preventDefault();const a=R(n.searchInput.value);e.selectedResultIndex>=0&&e.selectedResultIndex<a.length?N(a[e.selectedResultIndex]):a.length>0&&N(a[0])}}),n.searchClear.addEventListener("click",()=>{n.searchInput.value="",n.searchClear.style.display="none",n.searchResults.style.display="none",n.searchResults.innerHTML="",n.searchInput.focus()}),document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),n.searchInput.focus(),"true"!==n.sidebar.getAttribute("data-open")&&L())}),document.addEventListener("click",e=>{n.searchInput.contains(e.target)||n.searchResults.contains(e.target)||n.searchClear.contains(e.target)||"block"===n.searchResults.style.display&&(n.searchResults.style.display="none")})}function W(t){if(!t||!t.children)return{width:240,hoverNeeded:!1};const n=function(e){if(0===e.length)return 240;const t=document.createElement("div");t.style.position="absolute",t.style.left="-99999px",t.style.top="-99999px",t.style.visibility="hidden",t.style.pointerEvents="none",document.body.appendChild(t);let n=0;e.forEach(e=>{const a=document.createElement("span");a.className="nav-label",a.textContent=e,a.style.fontSize="1.2rem",a.style.lineHeight="1.1",a.style.whiteSpace="nowrap",a.style.display="inline-block",t.appendChild(a),a.offsetWidth;const r=a.getBoundingClientRect().width;r>n&&(n=r),t.removeChild(a)}),document.body.removeChild(t);const a=48+n+12+30;return Math.ceil(a)}(t.children.map(e=>"folder"===e.type?e.name||"":("module"===e.type||"page"===e.type||"document"===e.type)&&(e.title||e.id)||"").filter(e=>e.length>0));return{width:n,hoverNeeded:n>e.baseSidebarWidth}}function q(n){if(!n||!n.children)return;const a=n.path||"Home";if(e.folderWidthCache.has(a)){const t=e.folderWidthCache.get(a);e.hoverSidebarWidth=t.width,e.hoverNeeded=t.hoverNeeded}else{const{width:t,hoverNeeded:r}=W(n);e.folderWidthCache.set(a,{width:t,hoverNeeded:r}),e.hoverSidebarWidth=t,e.hoverNeeded=r}P(n),M();const r=n.children.filter(t=>"module"===t.type&&!e.preloadedModules.has(t.id));0!==r.length&&function n(a){if(a>=r.length)return;const s=r[a],o=i(s.file);if(e.loadedScripts.has(o))return e.preloadedModules.add(s.id),void(window.requestIdleCallback?requestIdleCallback(()=>n(a+1)):setTimeout(()=>n(a+1),0));const d=document.createElement("script");d.src=o,d.defer=!0,d.dataset.moduleSrc=o,d.onload=()=>{e.loadedScripts.add(o);const r=l(s.id);c(r).then(o=>{if("function"!=typeof o)return console.warn("Factory "+r+" is not a function for module "+s.id+". Skipping preload."),e.preloadedModules.add(s.id),void(window.requestIdleCallback?requestIdleCallback(()=>n(a+1)):setTimeout(()=>n(a+1),0));const d=document.createElement("div");d.style.position="absolute",d.style.left="-99999px",d.style.top="-99999px",d.style.width="1px",d.style.height="1px",d.style.overflow="hidden",document.body.appendChild(d);let i=null;try{i=o({root:d,themeController:t})||{}}catch(e){console.error(e)}requestAnimationFrame(()=>{const t=d.querySelector("h1");if(t&&t.textContent&&(e.moduleDisplayNames[s.id]=t.textContent.trim()),i&&"function"==typeof i.destroy)try{i.destroy()}catch(e){}document.body.removeChild(d),e.preloadedModules.add(s.id),window.requestIdleCallback?requestIdleCallback(()=>n(a+1)):setTimeout(()=>n(a+1),0)})})},d.onerror=()=>{console.error("Failed to preload script:",o),e.preloadedModules.add(s.id),window.requestIdleCallback?requestIdleCallback(()=>n(a+1)):setTimeout(()=>n(a+1),0)},document.head.appendChild(d)}(0)}function H(e){P(e),q(e)}function P(t){e.currentFolder=t,n.sidebarNav.innerHTML="",function(){if(!e.navigationTree||!e.currentFolder)return;if(!n.sidebarBreadcrumb)return;n.sidebarBreadcrumb.innerHTML="";const t=(e.currentFolder.path||"Home").split("/");t.forEach((a,s)=>{const o=s===t.length-1,d=t.slice(0,s+1).join("/"),i=document.createElement("span");if(i.textContent=a,i.className="sidebar-breadcrumb-part"+(o?" current":""),o||i.addEventListener("click",()=>{if(d===e.currentFolder.path)return;const t=r(e.navigationTree,d);t&&"folder"===t.type&&H(t)}),n.sidebarBreadcrumb.appendChild(i),!o){const e=document.createElement("span");e.textContent="/",e.className="sidebar-breadcrumb-separator",n.sidebarBreadcrumb.appendChild(e)}})}();const a=[];if(t!==e.navigationTree){const n=t.path.split("/").slice(0,-1).join("/"),s=r(e.navigationTree,n);if(s){const e=document.createElement("button");e.type="button",e.className="nav-item",e.setAttribute("data-type","folder"),e.setAttribute("data-path",s.path),e.innerHTML=`\n        <span class="nav-index"></span>\n        <span class="nav-icon">${m("back")}</span>\n        <span class="nav-label">Back</span>\n      `,a.push(e)}}t.children&&t.children.forEach((t,n)=>{const r=document.createElement("button");if(r.type="button",r.className="nav-item","folder"===t.type)r.setAttribute("data-type","folder"),r.setAttribute("data-path",t.path),r.innerHTML=`\n          <span class="nav-index">${String(n+1).padStart(2,"0")}</span>\n          <span class="nav-icon">${m("folder")}</span>\n          <span class="nav-label">${t.name}</span>\n        `;else{r.setAttribute("data-type",t.type),r.setAttribute("data-id",t.id);const a=e.moduleDisplayNames[t.id]||t.title||t.id||"Loading";r.innerHTML=`\n          <span class="nav-index">${String(n+1).padStart(2,"0")}</span>\n          <span class="nav-icon">${m(t.type)}</span>\n          <span class="nav-label">${a}</span>\n        `,e.activeNode&&e.activeNode.id===t.id&&r.classList.add("active")}a.push(r)}),a.forEach(e=>n.sidebarNav.appendChild(e)),n.sidebarNav.querySelectorAll(".nav-item").forEach(t=>{t.addEventListener("click",()=>{const n=t.getAttribute("data-type");if("folder"===n){const n=t.getAttribute("data-path");if(!n)return;const a=r(e.navigationTree,n);if(!a)return;return void H(a)}if("module"===n||"page"===n||"document"===n){const n=t.getAttribute("data-id");if(!n)return;const a=s(e.navigationTree,n);if(!a)return;I(),t.classList.add("active"),A(a),o()||L()}})}),E()||o()&&"true"===n.sidebar.getAttribute("data-open")&&(w&&e.hoverNeeded?n.sidebar.style.width=e.hoverSidebarWidth+"px":n.sidebar.style.width=e.baseSidebarWidth+"px")}function $(){function e(){if(!window.matchMedia("(max-height: 600px) and (orientation: landscape)").matches)return void document.documentElement.removeAttribute("data-notch-side");let e=0;window.screen&&window.screen.orientation?e=window.screen.orientation.angle:void 0!==window.orientation&&(e=window.orientation),90===e?document.documentElement.setAttribute("data-notch-side","left"):-90===e||270===e?document.documentElement.setAttribute("data-notch-side","right"):function(){const e=document.documentElement;e.style.setProperty("--test-safe-left","env(safe-area-inset-left, 0px)"),e.style.setProperty("--test-safe-right","env(safe-area-inset-right, 0px)");const t=getComputedStyle(e),n=t.getPropertyValue("--test-safe-left").trim(),a=t.getPropertyValue("--test-safe-right").trim();const r=parseFloat(n)||0,s=parseFloat(a)||0;r>20?document.documentElement.setAttribute("data-notch-side","left"):s>20?document.documentElement.setAttribute("data-notch-side","right"):document.documentElement.setAttribute("data-notch-side","none");e.style.removeProperty("--test-safe-left"),e.style.removeProperty("--test-safe-right")}()}let t;setTimeout(e,200),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",()=>{setTimeout(e,300)}),window.addEventListener("orientationchange",()=>{setTimeout(e,300)}),window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(()=>{e()},250)})}let j=!1,J=null;async function D(){return j?Promise.resolve():J||(J=new Promise((e,t)=>{window.MathJax={tex:{inlineMath:[["\\(","\\)"],["$","$"]],displayMath:[["\\[","\\]"],["$$","$$"]]},chtml:{fontURL:"https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2"},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]},startup:{ready:()=>{window.MathJax.startup.defaultReady(),j=!0,e()}}};const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",n.async=!0,n.onerror=()=>{console.error("[MathJax Utility] Failed to load MathJax from CDN"),t(new Error("Failed to load MathJax bundle"))},document.head.appendChild(n)}),J)}var U=Object.freeze({__proto__:null,isMathJaxLoaded:function(){return j},loadMathJax:D,typesetMath:async function(e){await D(),window.MathJax?.typesetPromise&&await window.MathJax.typesetPromise([e])}});window.__moduleReady=u,window.MathJaxUtility=U,window.addEventListener("load",async()=>{a(),$(),await v(),function(){n.sidebarToggle.addEventListener("click",L);const e=document.getElementById("landscapeToggle");e&&e.addEventListener("click",L),n.sidebar.addEventListener("mouseenter",C),n.sidebar.addEventListener("mouseleave",k)}(),F(),fetch("./javascript/tree.json").then(e=>{if(!e.ok)throw new Error("Failed to load navigation tree");return e.json()}).then(t=>{e.navigationTree=t;const a=e.navigationTree;P(a),q(a),M();let r=null;if(a.children&&(r=a.children.find(e=>"module"===e.type||"page"===e.type||"document"===e.type)||null),r){const e=n.sidebarNav.querySelector('.nav-item[data-type="'+r.type+'"][data-id="'+r.id+'"]');e&&e.classList.add("active"),A(r)}else n.card.classList.remove("preload"),n.card.classList.add("loaded")}).catch(e=>{console.error("[App] Failed to load navigation tree:",e),n.card.classList.remove("preload"),n.card.classList.add("loaded")})}),window.addEventListener("resize",()=>{o()&&"true"===n.sidebar.getAttribute("data-open")?n.sidebar.style.width=e.baseSidebarWidth+"px":n.sidebar.style.width=""}),document.addEventListener("DOMContentLoaded",()=>{a(),n.card&&n.card.addEventListener("click",()=>{d()&&"true"===n.sidebar.getAttribute("data-open")&&L()}),n.mainContent&&n.mainContent.addEventListener("click",e=>{(e.target===n.mainContent||e.target.classList.contains("page-root"))&&d()&&"true"===n.sidebar.getAttribute("data-open")&&L()})});
//# sourceMappingURL=app.min.js.map
